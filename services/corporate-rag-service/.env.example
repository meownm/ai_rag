APP_NAME=corporate-rag-service
APP_VERSION=1.0.0
HOST=0.0.0.0
RAG_SERVICE_PORT=8100

DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/rag
DB_HOST=localhost
DB_PORT=5432
DB_NAME=rag
DB_USER=postgres
DB_PASSWORD=postgres
PGVECTOR_ENABLED=true

S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_BUCKET_RAW=rag-raw
S3_BUCKET_MARKDOWN=rag-markdown
S3_REGION=us-east-1
S3_SECURE=false

OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1
EMBEDDINGS_SERVICE_URL=http://localhost:8200
EMBEDDINGS_SERVICE_PORT=8200
EMBEDDINGS_DEFAULT_MODEL_ID=bge-m3
EMBEDDINGS_BATCH_SIZE=64
EMBEDDINGS_RETRY_ATTEMPTS=3
EMBEDDINGS_TIMEOUT_SECONDS=30

USE_VECTOR_RETRIEVAL=true
HYBRID_SCORE_NORMALIZATION=false
USE_CONTEXTUAL_EXPANSION=false
NEIGHBOR_WINDOW=1
USE_TOKEN_BUDGET_ASSEMBLY=true
LLM_NUM_CTX=65536
MODEL_CONTEXT_WINDOW=65536
MAX_CONTEXT_TOKENS=65536
VERIFY_MODEL_NUM_CTX=true
USE_LLM_GENERATION=false

LLM_PROVIDER=ollama
LLM_ENDPOINT=http://localhost:11434/api/generate
LLM_MODEL=qwen3:14b-instruct
LLM_API_KEY=
OLLAMA_KEEP_ALIVE_SECONDS=20

RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANKER_TOP_K=20
DEFAULT_TOP_K=5

CHUNK_TARGET_TOKENS=650
CHUNK_MAX_TOKENS=900
CHUNK_MIN_TOKENS=120
CHUNK_OVERLAP_TOKENS=80

USE_CONVERSATION_MEMORY=false
USE_LLM_QUERY_REWRITE=false
USE_CLARIFICATION_LOOP=false
CONVERSATION_TURNS_LAST_N=8
CONVERSATION_SUMMARY_THRESHOLD_TURNS=12
CONVERSATION_TTL_MINUTES=30
REWRITE_CONFIDENCE_THRESHOLD=0.55
REWRITE_MODEL_ID=qwen3:14b-instruct
REWRITE_KEEP_ALIVE=0
REWRITE_MAX_CONTEXT_TOKENS=2048

LOG_DATA_MODE=PLAIN
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_PER_USER=30
RATE_LIMIT_BURST=10
RATE_LIMIT_STORAGE_MAX_USERS=10000
